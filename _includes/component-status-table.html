{% assign statuses = site.data.component-status %}
{% assign flex-1 = 'flex-1' %}
{% assign col5Class = 'flex-1 update-summary' %}
{% assign col1Title = 'Component' %}
{% assign col2Title = 'Status' %}
{% assign col3Title = 'Version introduced' %}
{% assign col4Title = 'Updated (yyyy-mm-dd)' %}
{% assign col5Title = 'Summary of recent updates' %}
{% assign versionLink = 'https://github.com/uswds/uswds/releases/tag/v' %}

<table class="usa-table usa-table--borderless width-full margin-top-4">
  <thead>
    <tr>
      <th data-sortable role="columnheader" scope="col" class="{{ flex-1 }}">{{ col1Title }}</th>
      <th data-sortable role="columnheader" scope="col" class="{{ flex-1 }}">{{ col2Title }}</th>
      <th data-sortable role="columnheader" scope="col" class="{{ flex-1 }}">Version<br>Introduced</th>
      <th data-sortable role="columnheader" scope="col" class="{{ flex-1 }}">Last updated<br>(yyyy-mm-dd)</th>
      <th data-sortable role="columnheader" scope="col" class="{{ flex-1 }} width-card-lg">{{ col5Title }}</th>
    </tr>
  </thead>
  <tbody>
    {% for status in statuses %}
    <tr>
      <td data-title="{{ col1Title }}" class="{{ flex-1}}">
        <span>
          <a href="{{ site.baseurl}}/{{ status.link }}">{{ status.component }}</a>
        </span>
      </td>
      <td data-title="{{ col2Title }}" class="{{ flex-1 }}">
        <!--{{ status.stat }}-->
        {% if status.stat == "Production" %}
          <div class="usa-status-pill usa-status-pill--production">
            <svg class="usa-icon margin-right-1" aria-hidden="true" role="img">
              <use xlink:href="{{ site.baseurl }}/assets/img/sprite.svg#check_circle"></use>
            </svg>
            Production
          </div>
        {% elsif status.stat == "Deprecated" %}
          <div class="usa-status-pill usa-status-pill--deprecated">
            <svg class="usa-icon margin-right-1" aria-hidden="true" focusable="false" role="img">
              <use xlink:href="{{ site.baseurl }}/assets/img/sprite.svg#warning"></use>
            </svg>
            Deprecated
          </div>
        {% elsif status.stat == "Release candidate" %}
          <div class="usa-status-pill usa-status-pill--candidate">
            <svg class="usa-icon margin-right-1" aria-hidden="true" focusable="false" role="img">
              <use xlink:href="{{ site.baseurl }}/assets/img/sprite.svg#radio_button_unchecked"></use>
            </svg>
            Release candidate
          </div>
        {% elsif status.stat == "Use with caution" %}
          <div class="usa-status-pill usa-status-pill--with-caution">
            <svg class="usa-icon margin-right-1" aria-hidden="true" focusable="false" role="img">
              <use xlink:href="{{ site.baseurl }}/assets/img/sprite.svg#error"></use>
            </svg>
            Use with caution
          </div>
        {% elsif status.stat == "Considering" %}
          <div class="usa-status-pill usa-status-pill--considering">
            <svg class="usa-icon margin-right-1" aria-hidden="true" focusable="false" role="img">
              <use xlink:href="{{ site.baseurl }}/assets/img/sprite.svg#lightbulb_outline"></use>
            </svg>
            Considering
          </div>
        {% endif %}
      </td>
      <td data-title="{{ col3Title }}" class="{{ flex-1 }}">
        {% if status.introduced %}
          <a href="{{ versionLink }}{{ status.introduced }}">{{ status.introduced }}</a>
        {% elsif status.introduced == null %}
          -
        {% endif %}
      </td>
      <td data-title="{{ col4Title }}" class="{{ flex-1 }}">
        <span>
          {{ status.updated }}
        </span>
      </td>
      <td data-title="{{ col4Title }}" class="{{ col5Class }}">
        {% if status.breaking %}
          <span class="breaking">Breaking</span>
        {% endif %}
        {% if status.accessibility %}
          <span class="accessibility">Accessibility</span>
        {% endif %}
        {% if status.updates %}
          <span class="updates">{{ status.updates}}</span>
        {% endif %}
        {% if status.breaking != true and status.accessibility != true and status.updates == null %}
          -
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>